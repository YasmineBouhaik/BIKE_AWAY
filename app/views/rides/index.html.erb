<div class="container p-3">
<div class = "top-div py-3">
  <h1>Rides</h1>
</div>

    <div class="search-form-control form-group">
    <%= form_tag rides_path, method: :get do %>
      <%= text_field_tag 'query[location]',
      params[:query][:location],
      class: "form-control",
      placeholder: "Find a location"
  %>
    <%= hidden_field_tag 'query[km]', 100 %>
  <%= submit_tag "Search", class: "btn btn-primary" %>
<% end %>
    </div>
  </form>


<form action ="/rides" method="get">
  <div class="d-flex align-items-center justify-content-between">
      <label for="range-1a"><p>Km/max:</p></label>
      <input type="range" value= "<%= params ? params["range-1a"] : "250" %>" name="range-1a" id="range-1a" min="1" max="500" oninput="this.nextElementSibling.value = this.value">
      <output class="ranger"> <%= params["range-1a"] %></output>
  </div>
</form>

  <div class = "rides-index py-4">
    <div class = "ride-card row">
      <% @rides.each do |ride|  %>
      <div class="col-sm-12 col-lg-4">
        <div class = "card p-3 mb-4">
          <div class = "card-title d-flex align-items justify-content-between">
            <%= link_to profile_path(ride.itinerary.user.id) do %>
              <%= image_tag ride.itinerary.user.url, alt: "user image", class: "avatar mr-3" %>
            <% end %>
            <h3><strong><%= ride.itinerary.title %></strong></h3>
          <div class = "card-text d-flex justify-content-around">
            <p> <% if ride.itinerary.category == "family" %>
              <%= image_tag "family bike.png", class: "logo-category" %>
              <% elsif ride.itinerary.category == "road bike" %>
              <%= image_tag "road bike.png", class: "logo-category" %>
              <% elsif ride.itinerary.category == "mountain bike" %>
              <%= image_tag "mountain bike.png", class: "logo-category" %>
              <% end %>
            </p>
          </div>
          </div>
          <div class = "d-flex justify-content-around" >
            <h3> <%= ride.date.strftime("%B %d at %I") %> </h3>
            <p><strong><%= ride.itinerary.km %>km </strong></p>
          </div>
          <div class = "details-button ">
            <%= link_to "details", ride_path(ride), class: "button" %>
          </div>
      </div>
      </div>
      <% end %>
    </div>
  </div>
</div>
